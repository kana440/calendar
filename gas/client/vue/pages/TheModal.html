<template id="the-modal">
  <v-layout row justify-center>
    <v-dialog v-model="dialog" :persistent=!this.user.floor max-width="500px">
      <user-settings></user-settings>
    </v-dialog>
  </v-layout>
</template>

<script>
const TheModal = {
  template: '#the-modal',
  components: {
    UserSettings: UserSettings,
  },
  computed: {
    ...Vuex.mapState([
      'user',
    ]),
    loading() {
      return this.$store.state.isLoading
    },
    dialog: {
      get() {
        return this.$store.state.showUserSettings
      },
      set(value){
        this.$store.commit('updateShowUserSettings', value)
      },
    },
  },
  methods: {
    save() {
      this.$store.commit('closeDialog')
    },
    cancel() {
      this.$store.commit('closeDialog')
    },
  },
}
</script>
